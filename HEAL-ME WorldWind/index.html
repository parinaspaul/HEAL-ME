<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="thirdparty/bootstrap.min.css">
    <link rel="stylesheet" href="thirdparty/jquery-ui.css">

    <script src="thirdparty/external/jquery/jquery.js"></script>
    <script src="thirdparty/bootstrap.min.js"></script>

    <script src="thirdparty/geojson.min.js"></script>
    <script data-main="app" src="thirdparty/require.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="thirdparty/important.css">
    <script src="thirdparty/important.js"></script>
	
    <link href="thirdparty/dc.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript">
	require.config({
		paths: {

		   "crossfilter": "https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.5/crossfilter",
		   "d3": "https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3",
		   "dc": "https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.0-dev/dc",
		   "queue": "thirdparty/queue"
		},
		shim:{
		   'crossfilter':{
			 exports:'crossfilter'
			} 
		}
	});
		
	</script>
    <script src="chart.js"></script>

	<title>HEAL ME</title>

        <link rel="icon" type="image/png" href="thirdparty/images/nasa-logo_32.png"/>
</head>
        <body style="background-image: url('thirdparty/images/background.jpg'); background-size: cover;">

 <div class="container-fluid">
    <div class="col-sm-8" id="globe" style="width: 100%; height: 100%; position: fixed; left: 0">
      <canvas id="canvasOne" width="1920" height="1080" style="position: fixed; left: 0; width: 100%; height: 100%">
        Your browser does not support HTML5 Canvas.
      </canvas>
    </div>
    
    <div class="card hovercardLeft col-sm-8">
      <div class="avatar">
        <img src="thirdparty/images/logo.png" data-toggle="modal" data-target="#myModal"   alt="" />
      </div>
      <div>
        <span id="logo_text">Health, Education And Livelihood Mapping Environment</span>
        <span id="logo_text1">"Urban adaptability and sustainability through data mapping and analytics"</span>
      </div>
      <!-- MODAL -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="false" style="background: rgba(0, 0, 0, 0.5);">
        <div class="modal-dialog" role="document">
          <div class="modal-content" style="background-color:white; color: black;">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel" style="text-align: center; font-size:35px;">Heal Me</h4>
            </div>
            <div class="modal-body" style="font-size: 19px;">
              <span>
                Health, Education and Livelihood-Mapping Environment. A tool to map out key urban issues for of urban dwellers. People are the life blood of a city.
              </span>
              <br>
              <br>
              <span>
                HEAL-ME will map the health condition of people according to gender and age in the urban area.
                This will help the local government better understand what health services needed.
                HEAL-ME will also map the education level of people in the urban area and help local government agencies to formulate training programs applicable to a given community.
                HEAL-ME will map work opportunities in the urban area for relevant training needs related to the job mapping.
              </span>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
      <!-- NAV ITEM -->
      <div class="card-header">  
        <ul class="nav nav-tabs card-header-tabs pull-xs-left">
        <!-- HEALTH -->
          <li>
            <a data-region="nav-1" class="nav-link" href="#">
              <span style="font-size: 10px">DATASETS</span>
              <span class="glyphicon glyphicon-plus-sign" style="font-size: 10px" data-toggle="tooltip" data-placement="bottom" title="HEALTH"></span>
            </a>
          </li>
        <!-- ABOUT -->
          <li>
            <a data-region="nav-3" class="nav-link" href="#">
              <span style="font-size: 10px">ABOUT</span>
              <span class="glyphicon glyphicon-info-sign" style="font-size: 10px" data-toggle="tooltip" data-placement="bottom" title="ABOUT"></span>
            </a>
          </li>
        </ul>
      </div>
      <!-- NAV CONTENTS -->
      <!-- HEALTH -->
      <div id="nav-1" class="infozone">
        <div class="form-group">
          <label for="sel1">DATASETS</label>
            <select class="form-control" id="type" onChange="myNewFunction(this);">
              <optgroup label="HEALTH"/>
              <option value="0">District 1</option>
              <option value="1">District 2</option>
              <option value="2">District 3</option>
              <option value="3">District 4</option>
              <option value="4">District 5</option>
              <option value="5">District 6</option>
              </optgroup>
              <optgroup label="EDUCATION"/>
              <option value="6">District 1</option>
              <option value="7">District 2</option>
              <option value="8">District 3</option>
              <option value="9">District 4</option>
              <option value="10">District 5</option>
              <option value="11">District 6</option>
              </optgroup>
              <optgroup label="LIVELIHOOD"/>
              <option value="12">District 1</option>
              <option value="13">District 2</option>
              <option value="14">District 3</option>
              <option value="15">District 4</option>
              <option value="16">District 5</option>
              <option value="17">District 6</option>
              </optgroup>
            </select>
          </div>

<!-- <div class="dropdown" style="position:relative">
    <a href="#" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">DATASETS<span class="caret"></span></a>
    <ul class="dropdown-menu" id="type">
        <li id="type">
            <a class="trigger right-caret">HEALTH</a>
             <ul class="dropdown-menu sub-menu">
                <li><a value="0">District1</a></li>
                <li><a value="1">Public Hospitals</a></li>
                <li><a value="2">Private Hospitals</a></li>
                <li><a value="3">Clinics</a></li>
            </ul>
        </li>
        <li id="type">
          <a class="trigger right-caret">EDUCATION</a>
          <ul class="dropdown-menu sub-menu">
            <li><a value="4">District 2</a></li>
            <li><a value="5">District 3</a></li>
            <li><a value="6">District 4</a></li>
          </ul>
        </li>
        <li id="type">
         <a class="trigger right-caret">EDUCATION</a>
          <ul class="dropdown-menu sub-menu">
            <li><a value="7">District 5</a></li>
            <li><a value="8">District 6</a></li>
          </ul>
        </li>

    </ul>
</div> -->
          <button id="startJson" type="button" class="bottom btn btn-info" >Get Data</button>
          <!-- <button id="refreshLayer" type="button" class="bottom btn btn-refresh">refresh</button> -->
            <br>
            <br>
            <!-- DATA Viewer -->
          <div id="infoPoint">
            <h3>Data Info</h3>
              <div id="textInfo"></div>
          </div>
          <div>
            <h3>Summary</h3>
				<div class="col-sm-8 leftalign"><b>Population : </b></div><div id="total_pop" class="col-sm-4"></div>
				<div class="col-sm-8 leftalign"><b>Clinics : </b></div><div id="total_clinic" class="col-sm-4"></div>
				<div class="col-sm-8 leftalign"><b>Hospitals: </b></div><div id="total_hospital" class="col-sm-4"></div>
				<div class="col-sm-8 leftalign"><b>Traning Centers : </b></div><div id="total_training" class="col-sm-4"></div>
				<div class="col-sm-8 leftalign"><b>Businesses : </b></div><div id="total_business" class="col-sm-4"></div>
				<div class="col-sm-12">
                    <div id="reset_clinicrow">
                        <a href="">Reset All Charts</a>
                    </div></div>
          </div>
      </div>
      
      <div id="nav-2" class="infozone">
        <h5>LAYERS</h5>
          <div class="dropdown" id="projectionDropdown">
          </div>
          <br>
          <h4>Layers</h4>
          <div class="list-group" id="layerList">
          </div>
      </div>
      <div id="nav-3" class="infozone">
        <h5>HEAL ME</h5>
          <span>
            Health, Education and Livelihood-Mapping Environment. A tool to map out key urban issues for of urban dwellers. People are the life blood of a city.
          </span>
            <br>
            <br>
          <span>
            HEAL-ME will map the health condition of people according to gender and age in the urban area.
            This will help the local government better understand what health services needed.
            HEAL-ME will also map the education level of people in the urban area and help local government agencies to formulate training programs applicable to a given community.
            HEAL-ME will map work opportunities in the urban area for relevant training needs related to the job mapping.
          </span>
      </div>
    </div>
    <!-- End -->
    <!-- Right Card Nav -->
    <div class="card hovercardRight col-sm-4">
     <div class="card-header">
        <!-- CONTENTS -->
		<div class = "col-sm-12 emp" style="color: #fff;">
			<h4>Population</h4>
				<div id = "poverty-level-row-chart">
				</div>
		</div>
		<div class = "col-sm-12 emp">
			<h4>Health</h4>
				<div id ="clinic2-chart" class = "col-sm-6">
<!--                     <div id="reset_clinicpie" class = "selected">selected: <span class="filter"></span>
                        <a href="">Reset Clinics per District</a>
                    </div> -->
				</div>
				<div id ="clinic-chart" class = "col-sm-6">
<!--                     <div id="reset_clinicrow" class = "selected">selected: <span class="filter"></span>
                        <a href="">Reset Type of Clinics</a>
                    </div> -->
				</div>
				<div id ="disease-chart" class = "col-sm-12">
				</div>
				<div id ="hospital-chart" class = "col-sm-4">
<!--                     <div id="reset_hospitalrow" class = "selected">selected: <span class="filter"></span>
                        <a href="">Reset Type of Hospital</a>
                    </div> -->
				</div>
				<div id ="hospital2-chart" class = "col-sm-8">
<!--                     <div id="reset_hospitalpie" class = "selected">selected: <span class="filter"></span>
                        <a href="">Reset Hospital per District</a>
                    </div> -->
				</div>
		</div>
		<div class = "col-sm-12 emp">
			<h4>Education</h4>
				<div id ="training2-chart" class = "col-sm-6">
				</div>
				<div id ="training-chart" class = "col-sm-6">
				</div>
		</div>
		<div class = "col-sm-12 emp">
			<h4>Livelihood</h4>
				<div id ="company-chart" class = "col-sm-5">
				</div>
				<div id ="company2-chart" class = "col-sm-7">
				</div>
		</div>
     </div>
    </div>
      <script>
      /*HIDE CONTENT RIGHT AFTER LOAD OF ALL infozone class*/ 
      if (!document.isInit) {

        document.isInit = 1;
        infozone = document.getElementsByClassName("infozone");
        for (i = 0; i < infozone.length; i++) {
            infozone[i].style.display = "none";
        }
      }
      /*CARD NAVIGATION SHOW HIDE CONTENT*/ 
      $('.nav a').click(function(){
        $('.infozone').fadeOut(550);
        var region = $(this).attr('data-region');    
        $('#' + region).fadeIn(550);
      });
      </script>

      <script>
        $(function(){
    $(".dropdown-menu > li > a.trigger").on("click",function(e){
        var current=$(this).next();
        var grandparent=$(this).parent().parent();
        if($(this).hasClass('left-caret')||$(this).hasClass('right-caret'))
            $(this).toggleClass('right-caret left-caret');
        grandparent.find('.left-caret').not(this).toggleClass('right-caret left-caret');
        grandparent.find(".sub-menu:visible").not(current).hide();
        current.toggle();
        e.stopPropagation();
    });
    $(".dropdown-menu > li > a:not(.trigger)").on("click",function(){
        var root=$(this).closest('.dropdown');
        root.find('.left-caret').toggleClass('right-caret left-caret');
        root.find('.sub-menu:visible').hide();
    });
	

});

//  function filtering(){

//var selected = document.getElementById("type").value;
//var selected =  this.options[this.selectedIndex].text;
//var val = selected.options[e.selectedIndex].value;
//console.log(val); 
//console.log(selected); 
/* document.getElementById("pp-chart").innerHTML = selected;	  
	  
regionChart
	.filter(document.getElementById("pp-chart").innerHTML);
dc.renderAll();


clinicperDistrictChart
	.filter(document.getElementById("pp-chart").innerHTML);
dc.renderAll();

console.log(document.getElementById("pp-chart")) */

//}

      </script>
	  
	  
</body>
</html>

<style>
  .dropdown-menu>li /* To prevent selection of text */
{   position:relative;
    -webkit-user-select: none; /* Chrome/Safari */        
    -moz-user-select: none; /* Firefox */
    -ms-user-select: none; /* IE10+ */
    /* Rules below not implemented in browsers yet */
    -o-user-select: none;
    user-select: none;
    cursor:pointer;
}
.dropdown-menu .sub-menu 
{
    left: 100%;
    position: absolute;
    top: 0;
    display:none;
    margin-top: -1px;
    border-top-left-radius:0;
    border-bottom-left-radius:0;
    border-left-color:#fff;
    box-shadow:none;
}
.right-caret:after,.left-caret:after
 {  content:"";
    border-bottom: 5px solid transparent;
    border-top: 5px solid transparent;
    display: inline-block;
    height: 0;
    vertical-align: middle;
    width: 0;
    margin-left:5px;
}
.right-caret:after
{   border-left: 5px solid #ffaf46;
}
.left-caret:after
{   border-right: 5px solid #ffaf46;
}
</style>



